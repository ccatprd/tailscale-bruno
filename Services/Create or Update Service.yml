info:
  name: Create or Update Service
  type: http
  seq: 5

http:
  method: PUT
  url: "{{base_url}}/tailnet/{{tailnet}}/services/{{service_name}}"
  auth:
    type: bearer
    token: "{{access_token}}"
  headers:
    - name: Content-Type
      value: application/json
  body:
    type: json
    data: |
      {
        "description": "My service description",
        "ports": ["tcp:443", "tcp:80"]
      }

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

docs: |
  # Create or Update Service

  Creates a named service definition or replaces an existing one. Services are used to group ports
  that a device exposes, making ACL rules more readable.

  The `service_name` variable in the URL is the name of the service (alphanumeric and hyphens).

  Port format: `"protocol:port"` â€” e.g. `"tcp:443"`, `"udp:53"`.

  ## Response

  Returns the created or updated service object with 200 OK.
