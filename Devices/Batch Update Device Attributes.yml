info:
  name: Batch Update Device Attributes
  type: http
  seq: 10

http:
  method: PATCH
  url: "{{base_url}}/tailnet/{{tailnet}}/device-attributes"
  auth:
    type: bearer
    token: "{{access_token}}"
  headers:
    - name: Content-Type
      value: application/json
  body:
    type: json
    data: |
      {
        "devices": [
          {
            "id": "device-id-here",
            "attributes": {
              "custom:compliance_status": {
                "value": "compliant",
                "expiry": "2026-12-31T00:00:00Z"
              }
            }
          }
        ]
      }

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

docs: |
  # Batch Update Device Attributes

  Sets posture attributes on multiple devices in a single request.

  Attribute keys must use the `custom:` prefix followed by alphanumeric characters and underscores only.
  No hyphens — e.g. `custom:compliance_status` is valid, `custom:compliance-status` is not.

  The `expiry` field is optional. Omit it for a permanent attribute.

  ## Response

  Returns `null` (empty body) with 200 OK on success. This is expected — it does not mean the request failed.
